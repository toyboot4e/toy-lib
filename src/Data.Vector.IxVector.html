<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE BangPatterns #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-comment">-- | `Ix`-based API over `vector`.</span><span>
</span><span id="line-5"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Vector.IxVector</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Primitive</span></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Ix</span></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Generic</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">VG</span></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Generic.Mutable</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">VGM</span></span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-comment">-- | N-dimensional @Vector@ or @MVector@ with `Data.Ix`.</span><span>
</span><span id="line-13"></span><span class="hs-keyword">data</span><span> </span><span id="IxVector"><span class="annot"><a href="Data.Vector.IxVector.html#IxVector"><span class="hs-identifier hs-var">IxVector</span></a></span></span><span> </span><span id="local-6989586621679138319"><span class="annot"><a href="#local-6989586621679138319"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679138318"><span class="annot"><a href="#local-6989586621679138318"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="IxVector"><span class="annot"><a href="Data.Vector.IxVector.html#IxVector"><span class="hs-identifier hs-var">IxVector</span></a></span></span><span> </span><span class="hs-special">{</span><span id="boundsIV"><span class="annot"><span class="annottext">forall i v. IxVector i v -&gt; (i, i)
</span><a href="Data.Vector.IxVector.html#boundsIV"><span class="hs-identifier hs-var hs-var">boundsIV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679138319"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679138319"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="vecIV"><span class="annot"><span class="annottext">forall i v. IxVector i v -&gt; v
</span><a href="Data.Vector.IxVector.html#vecIV"><span class="hs-identifier hs-var hs-var">vecIV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679138318"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span id="local-6989586621679138310"><span id="local-6989586621679138311"><span id="local-6989586621679138312"><span class="annot"><a href="Data.Vector.IxVector.html#.%21"><span class="hs-operator hs-type">(.!)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ix</span></span><span> </span><span class="annot"><a href="#local-6989586621679138312"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">VG.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679138311"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138310"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vector.IxVector.html#IxVector"><span class="hs-identifier hs-type">IxVector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138312"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679138311"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138310"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679138312"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679138310"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-16"></span><span id=".%21"><span class="annot"><span class="annottext">.! :: forall i (v :: * -&gt; *) a.
(Ix i, Vector v a) =&gt;
IxVector i (v a) -&gt; i -&gt; a
</span><a href="Data.Vector.IxVector.html#.%21"><span class="hs-operator hs-var hs-var">(.!)</span></a></span></span><span> </span><span class="annot"><a href="Data.Vector.IxVector.html#IxVector"><span class="hs-identifier hs-type">IxVector</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679138246"><span id="local-6989586621679138247"><span class="annot"><span class="annottext">v a
(i, i)
vecIV :: v a
boundsIV :: (i, i)
vecIV :: forall i v. IxVector i v -&gt; v
boundsIV :: forall i v. IxVector i v -&gt; (i, i)
</span><a href="#local-6989586621679138246"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621679138245"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679138245"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v a
</span><a href="#local-6989586621679138246"><span class="hs-identifier hs-var">vecIV</span></a></span><span> </span><span class="annot"><span class="annottext">forall (v :: * -&gt; *) a. Vector v a =&gt; v a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">VG.!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Ix a =&gt; (a, a) -&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">index</span></span><span> </span><span class="annot"><span class="annottext">(i, i)
</span><a href="#local-6989586621679138247"><span class="hs-identifier hs-var">boundsIV</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679138245"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-comment">-- | Reads a value from `IxVector`.</span><span>
</span><span id="line-19"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vector.IxVector.html#readIV"><span class="hs-pragma hs-type">readIV</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-20"></span><span id="local-6989586621679138298"><span id="local-6989586621679138299"><span id="local-6989586621679138301"><span id="local-6989586621679138302"><span class="annot"><a href="Data.Vector.IxVector.html#readIV"><span class="hs-identifier hs-type">readIV</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ix</span></span><span> </span><span class="annot"><a href="#local-6989586621679138302"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PrimMonad</span></span><span> </span><span class="annot"><a href="#local-6989586621679138301"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">VGM.MVector</span></span><span> </span><span class="annot"><a href="#local-6989586621679138299"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138298"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vector.IxVector.html#IxVector"><span class="hs-identifier hs-type">IxVector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138302"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679138299"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PrimState</span></span><span> </span><span class="annot"><a href="#local-6989586621679138301"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679138298"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679138302"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679138301"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138298"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-21"></span><span id="readIV"><span class="annot"><span class="annottext">readIV :: forall i (m :: * -&gt; *) (v :: * -&gt; * -&gt; *) a.
(Ix i, PrimMonad m, MVector v a) =&gt;
IxVector i (v (PrimState m) a) -&gt; i -&gt; m a
</span><a href="Data.Vector.IxVector.html#readIV"><span class="hs-identifier hs-var hs-var">readIV</span></a></span></span><span> </span><span class="annot"><a href="Data.Vector.IxVector.html#IxVector"><span class="hs-identifier hs-type">IxVector</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679138234"><span id="local-6989586621679138235"><span class="annot"><span class="annottext">v (PrimState m) a
(i, i)
vecIV :: v (PrimState m) a
boundsIV :: (i, i)
vecIV :: forall i v. IxVector i v -&gt; v
boundsIV :: forall i v. IxVector i v -&gt; (i, i)
</span><a href="#local-6989586621679138234"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621679138233"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679138233"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) (v :: * -&gt; * -&gt; *) a.
(PrimMonad m, MVector v a) =&gt;
v (PrimState m) a -&gt; Int -&gt; m a
</span><span class="hs-identifier hs-var">VGM.read</span></span><span> </span><span class="annot"><span class="annottext">v (PrimState m) a
</span><a href="#local-6989586621679138234"><span class="hs-identifier hs-var">vecIV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Ix a =&gt; (a, a) -&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">index</span></span><span> </span><span class="annot"><span class="annottext">(i, i)
</span><a href="#local-6989586621679138235"><span class="hs-identifier hs-var">boundsIV</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679138233"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-comment">-- | Writes a value to `IxVector`.</span><span>
</span><span id="line-24"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vector.IxVector.html#writeIV"><span class="hs-pragma hs-type">writeIV</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-25"></span><span id="local-6989586621679138285"><span id="local-6989586621679138286"><span id="local-6989586621679138287"><span id="local-6989586621679138288"><span class="annot"><a href="Data.Vector.IxVector.html#writeIV"><span class="hs-identifier hs-type">writeIV</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ix</span></span><span> </span><span class="annot"><a href="#local-6989586621679138288"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PrimMonad</span></span><span> </span><span class="annot"><a href="#local-6989586621679138287"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">VGM.MVector</span></span><span> </span><span class="annot"><a href="#local-6989586621679138286"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138285"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vector.IxVector.html#IxVector"><span class="hs-identifier hs-type">IxVector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138288"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679138286"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PrimState</span></span><span> </span><span class="annot"><a href="#local-6989586621679138287"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679138285"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679138288"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679138285"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679138287"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-26"></span><span id="writeIV"><span class="annot"><span class="annottext">writeIV :: forall i (m :: * -&gt; *) (v :: * -&gt; * -&gt; *) a.
(Ix i, PrimMonad m, MVector v a) =&gt;
IxVector i (v (PrimState m) a) -&gt; i -&gt; a -&gt; m ()
</span><a href="Data.Vector.IxVector.html#writeIV"><span class="hs-identifier hs-var hs-var">writeIV</span></a></span></span><span> </span><span class="annot"><a href="Data.Vector.IxVector.html#IxVector"><span class="hs-identifier hs-type">IxVector</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679138223"><span id="local-6989586621679138224"><span class="annot"><span class="annottext">v (PrimState m) a
(i, i)
vecIV :: v (PrimState m) a
boundsIV :: (i, i)
vecIV :: forall i v. IxVector i v -&gt; v
boundsIV :: forall i v. IxVector i v -&gt; (i, i)
</span><a href="#local-6989586621679138223"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621679138222"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679138222"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679138221"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679138221"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) (v :: * -&gt; * -&gt; *) a.
(PrimMonad m, MVector v a) =&gt;
v (PrimState m) a -&gt; Int -&gt; a -&gt; m ()
</span><span class="hs-identifier hs-var">VGM.write</span></span><span> </span><span class="annot"><span class="annottext">v (PrimState m) a
</span><a href="#local-6989586621679138223"><span class="hs-identifier hs-var">vecIV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Ix a =&gt; (a, a) -&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">index</span></span><span> </span><span class="annot"><span class="annottext">(i, i)
</span><a href="#local-6989586621679138224"><span class="hs-identifier hs-var">boundsIV</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679138222"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679138221"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vector.IxVector.html#modifyIV"><span class="hs-pragma hs-type">modifyIV</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-29"></span><span id="local-6989586621679138274"><span id="local-6989586621679138275"><span id="local-6989586621679138276"><span id="local-6989586621679138277"><span class="annot"><a href="Data.Vector.IxVector.html#modifyIV"><span class="hs-identifier hs-type">modifyIV</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ix</span></span><span> </span><span class="annot"><a href="#local-6989586621679138277"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PrimMonad</span></span><span> </span><span class="annot"><a href="#local-6989586621679138276"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">VGM.MVector</span></span><span> </span><span class="annot"><a href="#local-6989586621679138275"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138274"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vector.IxVector.html#IxVector"><span class="hs-identifier hs-type">IxVector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138277"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679138275"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PrimState</span></span><span> </span><span class="annot"><a href="#local-6989586621679138276"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679138274"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679138274"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679138274"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679138277"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679138276"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-30"></span><span id="modifyIV"><span class="annot"><span class="annottext">modifyIV :: forall i (m :: * -&gt; *) (v :: * -&gt; * -&gt; *) a.
(Ix i, PrimMonad m, MVector v a) =&gt;
IxVector i (v (PrimState m) a) -&gt; (a -&gt; a) -&gt; i -&gt; m ()
</span><a href="Data.Vector.IxVector.html#modifyIV"><span class="hs-identifier hs-var hs-var">modifyIV</span></a></span></span><span> </span><span class="annot"><a href="Data.Vector.IxVector.html#IxVector"><span class="hs-identifier hs-type">IxVector</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679138211"><span id="local-6989586621679138212"><span class="annot"><span class="annottext">v (PrimState m) a
(i, i)
vecIV :: v (PrimState m) a
boundsIV :: (i, i)
vecIV :: forall i v. IxVector i v -&gt; v
boundsIV :: forall i v. IxVector i v -&gt; (i, i)
</span><a href="#local-6989586621679138211"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621679138210"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679138210"><span class="hs-identifier hs-var">alter</span></a></span></span><span> </span><span id="local-6989586621679138209"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679138209"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) (v :: * -&gt; * -&gt; *) a.
(PrimMonad m, MVector v a) =&gt;
v (PrimState m) a -&gt; (a -&gt; a) -&gt; Int -&gt; m ()
</span><span class="hs-identifier hs-var">VGM.modify</span></span><span> </span><span class="annot"><span class="annottext">v (PrimState m) a
</span><a href="#local-6989586621679138211"><span class="hs-identifier hs-var">vecIV</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679138210"><span class="hs-identifier hs-var">alter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Ix a =&gt; (a, a) -&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">index</span></span><span> </span><span class="annot"><span class="annottext">(i, i)
</span><a href="#local-6989586621679138212"><span class="hs-identifier hs-var">boundsIV</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679138209"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vector.IxVector.html#swapIV"><span class="hs-pragma hs-type">swapIV</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-33"></span><span id="local-6989586621679138263"><span id="local-6989586621679138264"><span id="local-6989586621679138265"><span id="local-6989586621679138266"><span class="annot"><a href="Data.Vector.IxVector.html#swapIV"><span class="hs-identifier hs-type">swapIV</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ix</span></span><span> </span><span class="annot"><a href="#local-6989586621679138266"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PrimMonad</span></span><span> </span><span class="annot"><a href="#local-6989586621679138265"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">VGM.MVector</span></span><span> </span><span class="annot"><a href="#local-6989586621679138264"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138263"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vector.IxVector.html#IxVector"><span class="hs-identifier hs-type">IxVector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138266"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679138264"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PrimState</span></span><span> </span><span class="annot"><a href="#local-6989586621679138265"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679138263"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679138266"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679138266"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679138265"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-34"></span><span id="swapIV"><span class="annot"><span class="annottext">swapIV :: forall i (m :: * -&gt; *) (v :: * -&gt; * -&gt; *) a.
(Ix i, PrimMonad m, MVector v a) =&gt;
IxVector i (v (PrimState m) a) -&gt; i -&gt; i -&gt; m ()
</span><a href="Data.Vector.IxVector.html#swapIV"><span class="hs-identifier hs-var hs-var">swapIV</span></a></span></span><span> </span><span class="annot"><a href="Data.Vector.IxVector.html#IxVector"><span class="hs-identifier hs-type">IxVector</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679138198"><span id="local-6989586621679138199"><span class="annot"><span class="annottext">v (PrimState m) a
(i, i)
vecIV :: v (PrimState m) a
boundsIV :: (i, i)
vecIV :: forall i v. IxVector i v -&gt; v
boundsIV :: forall i v. IxVector i v -&gt; (i, i)
</span><a href="#local-6989586621679138198"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621679138197"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679138197"><span class="hs-identifier hs-var">i1</span></a></span></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621679138196"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679138196"><span class="hs-identifier hs-var">i2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) (v :: * -&gt; * -&gt; *) a.
(PrimMonad m, MVector v a) =&gt;
v (PrimState m) a -&gt; Int -&gt; Int -&gt; m ()
</span><span class="hs-identifier hs-var">VGM.swap</span></span><span> </span><span class="annot"><span class="annottext">v (PrimState m) a
</span><a href="#local-6989586621679138198"><span class="hs-identifier hs-var">vecIV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Ix a =&gt; (a, a) -&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">index</span></span><span> </span><span class="annot"><span class="annottext">(i, i)
</span><a href="#local-6989586621679138199"><span class="hs-identifier hs-var">boundsIV</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679138197"><span class="hs-identifier hs-var">i1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Ix a =&gt; (a, a) -&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">index</span></span><span> </span><span class="annot"><span class="annottext">(i, i)
</span><a href="#local-6989586621679138199"><span class="hs-identifier hs-var">boundsIV</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679138196"><span class="hs-identifier hs-var">i2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span></pre></body></html>